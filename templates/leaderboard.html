<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FLUX Leaderboard</title>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 50px auto; padding: 20px; background: #f4f4f4; }
        h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #007bff; color: white; }
        tr:hover { background: #f5f5f5; }
        .rank { font-weight: bold; color: #ffd700; }  /* Gold for top */
        .no-data { text-align: center; color: #666; padding: 40px; font-style: italic; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h2>Top Performers Leaderboard</h2>
    <p><a href="{{ url_for('dashboard') }}">Back to Dashboard</a></p>
    
    {% if leaderboard %}
        <table>
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Student</th>
                    <th>Total Score</th>
                </tr>
            </thead>
            <tbody>
{% for rank, entry in leaderboard|enumerate(start=1) %}
    <tr>
        <td>{{ rank }}</td>
        <td>{{ entry.username }}</td>
        <td>{{ entry.totalScore | default(0) }}</td>  <!-- shows 0 if missing -->
    </tr>
{% endfor %}
</tbody>
        </table>
    {% else %}
        <div class="no-data">
            No scores yet. Take some quizzes to build the leaderboard!
            <br><a href="{{ url_for('list_quizzes') }}">Browse Quizzes</a>
        </div>
    {% endif %}
</body>
</html>
